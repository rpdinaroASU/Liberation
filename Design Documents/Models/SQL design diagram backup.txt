// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table system_user {
  userID integer [primary key, not null, unique]
  workplaceID integer [primary key, not null]
  eEmail varchar(62) [not null]
  ePassword varchar(256) [not null]
  eFirstName varchar(50) [not null]
  eLastName varchar(50) [not null]
  isWorker shortInt(1) [not null]
  isOrganizer shortInt(1) [not null]
  isStaff shortInt(1) [not null]
  isAdmin shortInt(1) [not null]
  loginAttempts shortInt(1) [not null]
}

Table workplace_address {
  workplaceID integer [primary key, not null, unique]
  e_addressLineOne varchar [not null]
  e_addressLineTwo varchar
  e_city varchar [not null]
  state varchar(15) [not null]
  e_zipCode int(5) [not null]
}

Table union_card {
  workerID integer [primary key, not null]
  workplaceID integer [primary key, not null]
  e_signDate integer(8) [not null]
  e_union_card_document varbinary [not null]
}

Table workplace {
  workplaceID integer [primary key, not null]
  e_workplace_nickname varchar 
  e_store_number integer
  e_phone_number integer(10) [not null]
}

Table worker {
  workerID integer [primary key, not null]
  workplaceID integer [primary key, not null]
  e_address varchar
  e_shiftWorked varbyte(1)
  ocManaging integer
  isCurrentEmployee shortInt(1)
  notes varchar
}

Table admin_staffWorkers {
  adminID integer [primary key, not null]
  staffID integer [not null]
}

Table staff_workspaces {
  staffID integer [primary key, not null]
  workplaceID integer [not null]
}

Table ipLoginAttempts {
  e_ip6Address integer [primary key, not null]
  loginAttempts shortInt(1)
}

Ref: system_user.(workplaceID) >  workplace_address.(workplaceID)
Ref: union_card.(workplaceID) > workplace_address.(workplaceID)
Ref: union_card.(workerID) > system_user.(userID)
Ref: workplace.(workplaceID) > workplace_address.(workplaceID)
Ref: worker.(workplaceID) > workplace_address.(workplaceID)
Ref: worker.(workerID) > system_user.(userID)
Ref: worker.(ocManaging) > system_user.(userID)
Ref: admin_staffWorkers.(adminID) > system_user.(userID)
Ref: admin_staffWorkers.(staffID) > system_user.(userID)
Ref: staff_workspaces.(staffID) > system_user.(userID)
Ref: staff_workspaces.(workplaceID) > workplace_address.(workplaceID)